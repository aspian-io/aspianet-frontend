!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");let o=e=>t=>t.options.get(e),i=o("min_height"),s=o("max_height"),n=o("autoresize_overflow_padding"),l=o("autoresize_bottom_margin"),r=(e,t)=>{let o=e.getBody();o&&(o.style.overflowY=t?"":"hidden",t||(o.scrollTop=0))},a=(e,t,o,i)=>{var s;let n=parseInt(null!==(s=e.getStyle(t,o,i))&&void 0!==s?s:"",10);return isNaN(n)?0:n},g=(e,o,n)=>{var u;let d=e.dom,f=e.getDoc();if(!f)return;if(e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen())return void r(e,!0);let m=f.documentElement,c=l(e),p=null!==(u=i(e))&&void 0!==u?u:e.getElement().offsetHeight,h=p,v=a(d,m,"margin-top",!0),y=a(d,m,"margin-bottom",!0),C=m.offsetHeight+v+y+c;C<0&&(C=0);let S=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;C+S>p&&(h=C+S);let z=s(e);if(z&&h>z?(h=z,r(e,!0)):r(e,!1),h!==o.get()){let _=h-o.get();if(d.setStyle(e.getContainer(),"height",h+"px"),o.set(h),(e=>{e.dispatch("ResizeEditor")})(e),t.browser.isSafari()&&(t.os.isMacOS()||t.os.isiOS())){let b=e.getWin();b.scrollTo(b.pageXOffset,b.pageYOffset)}e.hasFocus()&&"setcontent"===(null==n?void 0:n.type.toLowerCase())&&(!0===n.selection||!0===n.paste)&&e.selection.scrollIntoView(),(t.browser.isSafari()||t.browser.isChromium())&&_<0&&g(e,o,n)}};e.add("autoresize",e=>{if((e=>{let t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})})(e),e.options.isSet("resize")||e.options.set("resize",!1),!e.inline){let t;let o=(t=0,{get:()=>t,set:e=>{t=e}});((e,t)=>{e.addCommand("mceAutoResize",()=>{g(e,t)})})(e,o),e.on("init",()=>{let t=n(e),o=e.dom;o.setStyles(e.getDoc().documentElement,{height:"auto"}),o.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t,"min-height":0})}),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",t=>{g(e,o,t)})}})}();