!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");let t=(e,t,r)=>{e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===r?null:{"list-style-type":r})},r=e=>{e.addCommand("ApplyUnorderedListStyle",(r,l)=>{t(e,"UL",l["list-style-type"])}),e.addCommand("ApplyOrderedListStyle",(r,l)=>{t(e,"OL",l["list-style-type"])})},l=e=>t=>t.options.get(e),s=e=>{let t=e.options.register;t("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),t("advlist_bullet_styles",{processor:"string[]",default:"default,circle,square".split(",")})},n=l("advlist_number_styles"),i=l("advlist_bullet_styles"),o=e=>null==e,a=e=>!o(e);var u=tinymce.util.Tools.resolve("tinymce.util.Tools");class d{constructor(e,t){this.tag=e,this.value=t}static some(e){return new d(!0,e)}static none(){return d.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?d.some(e(this.value)):d.none()}bind(e){return this.tag?e(this.value):d.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:d.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?d.some(e):d.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}d.singletonNone=new d(!1);let g=(e,t)=>e.dom.isChildOf(t,e.getBody()),h=e=>a(e)&&/^(TH|TD)$/.test(e.nodeName),m=e=>t=>a(t)&&/^(OL|UL|DL)$/.test(t.nodeName)&&g(e,t),c=e=>{let t=e.dom.getParent(e.selection.getNode(),"ol,ul"),r=e.dom.getStyle(t,"listStyleType");return d.from(r)},p=(e,t)=>null!==t&&"false"===e.dom.getContentEditableParent(t),v=(e,t)=>{let r=e.dom.getParent(t,"ol,ul,dl");return p(e,r)},y=(e,t)=>{for(let r=0;r<e.length;r++){let l=e[r];if(t(l))return r}return -1},f=e=>e.replace(/\-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),L=e=>o(e)||"default"===e?"":e,O=(e,t,r)=>{let l=y(t.parents,h),s=-1!==l?t.parents.slice(0,l):t.parents,n=u.grep(s,m(e));return n.length>0&&n[0].nodeName===r},C=(e,t)=>r=>{let l=l=>{r.setActive(O(e,l,t)),r.setEnabled(!v(e,l.element))};return e.on("NodeChange",l),()=>e.off("NodeChange",l)},N=(e,r,l,s,n,i)=>{e.ui.registry.addSplitButton(r,{tooltip:l,icon:"OL"===n?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:e=>{let t=u.map(i,e=>{let t=L(e),r=f(e);return{type:"choiceitem",value:t,icon:"list-"+("OL"===n?"num":"bull")+"-"+("disc"===e||"decimal"===e?"default":e),text:r}});e(t)},onAction:()=>e.execCommand(s),onItemAction:(r,l)=>{t(e,n,l)},select:t=>{let r=c(e);return r.map(e=>t===e).getOr(!1)},onSetup:C(e,n)})},b=(e,r,l,s,n,i)=>{e.ui.registry.addToggleButton(r,{active:!1,tooltip:l,icon:"OL"===n?"ordered-list":"unordered-list",onSetup:C(e,n),onAction:()=>e.queryCommandState(s)||""===i?e.execCommand(s):t(e,n,i)})},S=(e,t,r,l,s,n)=>{n.length>1?N(e,t,r,l,s,n):b(e,t,r,l,s,L(n[0]))},w=e=>{S(e,"numlist","Numbered list","InsertOrderedList","OL",n(e)),S(e,"bullist","Bullet list","InsertUnorderedList","UL",i(e))};e.add("advlist",e=>{e.hasPlugin("lists")?(s(e),w(e),r(e)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();